<!doctype html>
<html lang="zh-Hans">
	<head>
		<title>批量放置文本</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	</head>
	<body>
		<div>文本：<input id="textcontentforpcb" type="text" placeholder="abc" /></div>
		<div>数量：<input id="numberforpcb" type="number" placeholder="10" /></div>
		<div>间距：<input id="distanceforpcb" type="number" placeholder="10" /></div>
		<div style="padding-top: 8px">
			<button onclick="handlePlacement()">确定</button>
			<button onclick="eda.sys_IFrame.closeIFrame('batchPlacementTextDialogForPCB')">取消</button>
		</div>
		<script>
			async function handlePlacement() {
				const text = document.getElementById('textcontentforpcb').value;
				const number = Number(document.getElementById('numberforpcb').value);
				const distance = Number(document.getElementById('distanceforpcb').value);
				// console.log('text', text, 'number', number, 'distance', distance);

				let x = 0;
				let y = 0;
				for (let i = 0; i < number; i++) {
					x = x + distance;
					y = y + distance;
					await eda.pcb_PrimitiveString.create(1, x, y, text, 'default', 120, 8, 3, 0, false, 0, false, false);
				}
				eda.sys_IFrame.closeIFrame('batchPlacementTextDialogForPCB');
			}
		</script>
	</body>
</html>
